<html>
  <head>
    <link rel="stylesheet" href="./index.css">
    <link href="https://fonts.googleapis.com/css?family=Pacifico" rel="stylesheet">
    <link href="https://yarnpkg.com/en/package/normalize.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
  </head>
  <body>
    <div class="nav">
      <div class="logo">F</div>
    </div>
    <div class="well">
      <div class="container">
        <h1>Frea</h1>
        <h2>Supporting the global javascript namespace<h2>
        <div class="code">
          npm config set registry https://registry.freajs.org
        </div>
      </div>
    </div>
    <div class="nav"></div>
    <div id="content">
      <h2>Getting Started</h2>
      <p>To use Frea globally with npm</p>
      <div class="code">
        npm config set registry https://registry.freajs.org
      </div>
      <p>To use Frea globally with yarn</p>
      <div class="code">
        yarn config set registry https://registry.freajs.org
      </div>
      <p>To use Frea for a single project</p>
      <div class="code">
        cd /path/to/project
        <br/>
        echo "https://registry.freajs.org" >> .npmrc
      </div>
      <h2>What is Frea?</h2>
      <p>
        The JavaScript community has
        <a href="https://openjsf.org/members/">a lot</a>
        of large players involved, yet the burden of hosting the registry has
        fallen to
        <a href="https://npmjs.com">a single company.</a>
        There have been many efforts to build new federated or decentralized
        JavaScript package registries, but none of them have solved for the
        global namespace in a way that doesn't fragment the community. Frea is
        different.
      </p>
      <p>
        Frea doesn't attempt to create a new package registry. Inspired by
        popular linux package managers, Frea is a collection of infrastructure
        pieces that, together, allows the JavaScript community to donate
        resources to help host the <i>existing</i> registry.
      </p>
      <h2>Architecture</h2>
      <p>
        We use cloudflare workers to load balance across our donated mirrors.
        For example, below is a diagrame of our infrastructure running on GCP.
        When the mirrors don't have content, the workers will proxy the request
        back to npm to avoid race conditions with syncing between the mirrors
        for recent packages.
        <br/>
        <br/>
        By baking load balancing and routing into the network layer with
        cloudflare workers, we reduce the availability requirements of donated
        mirrors. We can failover between mirrors at the network level without
        surfacing failures to users.
      </p>
      <div class="arch">
        <img src="./arch.png"/>
      </div>
      <h2>Interested in Donating?</h2>
      <p>
        We don't have anything automated for on-boarding mirrors yet. If you
        are interested in donating infrastructure, email us at
        <a href="mailto:frea@blankenship.io">frea@blankenship.io</a>!
      </p>
    </div>
  </body>
</html>
